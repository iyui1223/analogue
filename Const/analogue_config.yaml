# =============================================================================
# Analogue Search Configuration
# =============================================================================

# Number of analogues to select per target day
n_analogues: 15

# Similarity metric: rmse, correlation
similarity_metric: "rmse"

# Domain for circulation pattern matching
circulation_domain: "antarctica_peninsula_2020"

# Time period definitions for analogue search
# NOTE: Test configuration for ERA5 2018-2023 subset
# Past/Present period separation for attribution analysis
periods:
  past:
    start_year: 1948
    end_year: 1987
  present:
    start_year: 1988
    end_year: 2026

# Time-window smoothing for multi-day events
# Applied via CDO runmean before analogue search
smoothing:
  window_days: 5  # N-day running mean (set to 1 for no smoothing)

# Distance calculation settings
distance:
  # Variable used for analogue matching
  # NOTE: Using psurf (t2m from ERA5) for testing
  match_variable: psurf
  # Latitude weighting: cos(lat) weights for area-representative distance
  latitude_weighted: true

# Define the calendar date range (month-day) for analogue search
# This restricts analogue matching to specific seasons (e.g., DJF for Antarctic summer)
# Use month (1-12) and day (1-31). Leave as null to search all calendar dates.
# Example: For Dec 1 - Jan 31, use:
#   start: {month: 12, day: 1}
#   end: {month: 1, day: 31}
calendar_date_range:
  # When null, no calendar restriction is applied
  start: null  # {month: 12, day: 1}
  end: null    # {month: 1, day: 31}

# Time window for finding analogues: search dates within X days of calendar target date
# This helps find analogues from the same season/phase
snapshot_calendar_window: 45  # days (search +/- N days from snapshot calendar date)

